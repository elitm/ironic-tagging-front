(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1abb8145"],{"02a7":function(e,t,a){"use strict";a("6867")},3402:function(e,t,a){"use strict";a("44a4")},37906:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("search")],1)},s=[],n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("b-container",[a("b-row",[a("b-col",[a("h1",{staticClass:"title"},[e._v("Search Page")])]),a("b-col",[a("b-button",{on:{click:e.lastSearch}},[e._v(" My Last Search")])],1)],1),a("b-form",{on:{submit:function(t){return t.preventDefault(),e.onSearch.apply(null,arguments)},reset:function(t){return t.preventDefault(),e.onReset.apply(null,arguments)}}},[a("b-input-group",{attrs:{prepend:"Search Query:",id:"search-input"}},[a("b-form-input",{attrs:{id:"query",required:""},model:{value:e.query,callback:function(t){e.query=t},expression:"query"}}),a("b-input-group-append",[a("b-button",{attrs:{type:"submit",variant:"info"}},[e._v("Search")])],1)],1)],1),a("br"),a("h5",[e._v(" Your search Query: "+e._s(e.query)+" ")]),a("br"),(e.query,a("span",[e.hasResults?a("span",[a("b-container",{staticClass:"search-contaiter"},[a("SearchPlayers",{attrs:{items:e.players}}),a("SearchTeams",{attrs:{items:e.teams}})],1)],1):a("span",[e._v(" There are no elements to return ")])]))],1)],1)},l=[],o=a("2909"),i=a("1da1"),c=(a("96cf"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("b-container",[a("b-row",[a("h2",[e._v("Players:")])]),a("b-row",[a("b-col",{staticClass:"my-1",attrs:{lg:"6"}},[a("b-form-group",{staticClass:"mb-0",attrs:{label:"Filter","label-for":"filter-input","label-cols-sm":"3","label-align-sm":"right","label-size":"sm"}},[a("b-input-group",{attrs:{size:"sm"}},[a("b-form-input",{attrs:{id:"filter-input",type:"search",placeholder:"Type to Search"},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}}),a("b-input-group-append",[a("b-button",{attrs:{disabled:!e.filter},on:{click:function(t){e.filter=""}}},[e._v("Clear")])],1)],1)],1)],1),a("b-col",{staticClass:"my-1",attrs:{lg:"6"}},[a("b-form-group",{staticClass:"mb-0",attrs:{label:"do you want to filter?",description:"Leave all unchecked to filter on all data","label-cols-sm":"3","label-align-sm":"right","label-size":"sm"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.ariaDescribedby;return[a("b-form-checkbox-group",{staticClass:"mt-1",attrs:{"aria-describedby":r},model:{value:e.filterOn,callback:function(t){e.filterOn=t},expression:"filterOn"}},[a("b-form-checkbox",{attrs:{value:"team_name"}},[e._v("Team Name")]),a("b-form-checkbox",{attrs:{value:"position"}},[e._v("Position")])],1)]}}]),model:{value:e.sortDirection,callback:function(t){e.sortDirection=t},expression:"sortDirection"}})],1)],1),a("b-table",{staticClass:"player-search-table",attrs:{items:e.items,fields:e.fields,filter:e.filter,"filter-included-fields":e.filterOn,stacked:"md","show-wmpty":""},scopedSlots:e._u([{key:"cell(image)",fn:function(t){return[a("img",{staticClass:"card-img-bottom",staticStyle:{height:"100px",width:"auto"},attrs:{src:t.item.image},on:{click:function(a){return a.stopPropagation(),e.PlayerPageById(t.item.playerId)}}})]}},{key:"cell(name)",fn:function(t){return[a("router-link",{attrs:{to:{name:"player",params:{id:""+t.item.id}}}},[e._v(" "+e._s(t.item.name)+" ")])]}},{key:"cell(team_name)",fn:function(t){return[a("router-link",{attrs:{to:{name:"team",params:{id:""+t.item.team_id}}}},[e._v(" "+e._s(t.item.team_name)+" ")])]}}])})],1)],1)}),u=[],m={data:function(){return{fields:[{key:"id",label:"Player Id"},{key:"name",label:"Player Full Name",sortable:!0},{key:"team_name",label:"Team",sortable:!0},{key:"position",label:"Position",sortable:!0},{key:"image",label:"Player Image"}],filter:null,filterOn:[]}},props:{items:{type:Array,required:!0}},methods:{PlayerPageById:function(e){this.$router.push("/player/"+String(e))}},mounted:function(){console.log("Search players")}},p=m,f=(a("d1f3"),a("2877")),h=Object(f["a"])(p,c,u,!1,null,"7f0d5358",null),b=h.exports,d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("b-container",[a("b-row",[a("h2",[e._v("Teams:")])]),a("b-row",[a("b-table",{staticClass:"team-search-table",attrs:{items:e.items,fields:e.fields,stacked:"md","show-wmpty":"",width:"300px"},scopedSlots:e._u([{key:"cell(logo_path)",fn:function(t){return[a("img",{staticClass:"card-img-bottom",staticStyle:{height:"100px",width:"auto"},attrs:{src:t.item.logo_path},on:{click:function(a){return a.stopPropagation(),e.PlayerPageById(t.item.teamId)}}})]}},{key:"cell(name)",fn:function(t){return[a("router-link",{attrs:{to:{name:"team",params:{id:""+t.item.id}}}},[e._v(e._s(t.item.name)+" ")])]}}])})],1)],1)],1)},y=[],g={data:function(){return{fields:[{key:"name",label:"Team Name",sorted:!0},{key:"logo_path",label:"Logo",sorted:!0}],filter:null}},props:{items:{type:Array,required:!0}},methods:{TeamPageById:function(e){this.$router.push("/team"+String(e))}},mounted:function(){console.log("Search team ")}},v=g,_=Object(f["a"])(v,d,y,!1,null,"45c57544",null),k=_.exports,w={name:"Search",components:{SearchPlayers:b,SearchTeams:k},data:function(){return{players:[],teams:[],query:"",filter_team:"",hasResults:!0,lastSearchPlayer:[],lastSearchTeams:[],lastQuery:""}},methods:{newSearch:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,r,s,n,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(e.query),console.log("start searching at the server"),t.prev=2,t.next=5,e.axios.get("http://localhost:3003/search/".concat(e.query));case 5:a=t.sent,r=a.data.players,s=a.data.teams,void 0===r&&void 0===s?e.hasResults=!1:(e.hasResults=!0,e.players=[],(n=e.players).push.apply(n,Object(o["a"])(r)),console.log(e.players),e.teams=[],(l=e.teams).push.apply(l,Object(o["a"])(s))),console.log(e.hasResults),t.next=16;break;case 12:t.prev=12,t.t0=t["catch"](2),console.log("error in search"),console.log(t.t0);case 16:case"end":return t.stop()}}),t,null,[[2,12]])})))()},onSearch:function(){console.log("new Search method was called"),this.newSearch()},onReset:function(){console.log("reset before new search"),this.$v.$reset()},TeamFilter:function(){this.$emit("this.players","filter_team",this.filter_team)},lastSearch:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,r,s,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("try to return user last search"),t.prev=1,t.next=4,e.axios.get("http://localhost:3003/users/lastSearch");case 4:s=t.sent,console.log(s),e.query=s.data[0],n=s.data[1],console.log(query),e.players=[],(a=e.players).push.apply(a,Object(o["a"])(n.players)),e.teams=[],(r=e.teams).push.apply(r,Object(o["a"])(n.teams)),console.log("last search returned"),t.next=20;break;case 16:t.prev=16,t.t0=t["catch"](1),console.log("error in Last search"),console.log(t.t0);case 20:case"end":return t.stop()}}),t,null,[[1,16]])})))()}}},S=w,x=(a("3402"),Object(f["a"])(S,n,l,!1,null,"a9353642",null)),P=x.exports,O={data:function(){return{searchQuery:""}},components:{search:P}},q=O,C=(a("02a7"),Object(f["a"])(q,r,s,!1,null,"03658ab7",null));t["default"]=C.exports},"44a4":function(e,t,a){},6867:function(e,t,a){},d1f3:function(e,t,a){"use strict";a("ffa3")},ffa3:function(e,t,a){}}]);
//# sourceMappingURL=chunk-1abb8145.7703af32.js.map